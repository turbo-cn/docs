(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4097],{9377:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/repo/docs/upgrading-to-v1",function(){return t(5175)}])},5175:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return l.ZP}});var r,n=t(6042),i=t(9396),a=t(5893),s=t(6871),d=t(8583),c=(t(8658),t(1151)),l=(t(1608),t(5764)),p={filePath:"pages/repo/docs/upgrading-to-v1.mdx",route:"/repo/docs/upgrading-to-v1",frontMatter:{title:"Upgrading to v1",description:"Learn how to upgrade to Turborepo v1, now open-source and part of Vercel."},pageMap:[{kind:"Meta",data:{"*":{type:"page"},index:{display:"hidden",theme:{layout:"raw",sidebar:!1,toc:!0}},repo:"Repo",pack:"Pack",blog:{title:"\u535a\u5ba2",theme:{typesetting:"article"}},showcase:"\u6848\u4f8b","official-website":{title:"\u5b98\u7f51",href:"https://turbo.build/",newWindow:!0},confirm:{title:"Confirm",display:"hidden"},terms:{title:"\u670d\u52a1\u6761\u6b3e",display:"hidden"},privacy:{title:"\u9690\u79c1\u653f\u7b56",display:"hidden"}}},{kind:"Folder",name:"blog",route:"/blog",children:[{kind:"Meta",data:{"*":{"//":"Hide all the links from the sidebar or navbar, and disable ToC and Sidebar for these pages.",display:"hidden",theme:{toc:!1,sidebar:!1,typesetting:"article"}},"turbo-1-6-0":"Turborepo 1.6","turbo-1-5-0":"Turborepo 1.5","turbo-1-4-0":"Turborepo 1.4","turbo-1-3-0":"Turborepo 1.3","turbo-1-2-0":"Turborepo 1.2","turbo-1-1-0":"Turborepo 1.1","joining-vercel":"Joining Vercel","saml-sso-now-available":"SAML SSO now available","you-might-not-need-typescript-project-references":"You might not need TypeScript project references","turbo-0-4-0":"Turborepo 0.4.0"}},{kind:"MdxPage",name:"joining-vercel",route:"/blog/joining-vercel",frontMatter:{title:"Turborepo is joining Vercel",date:"2021/12/09",description:"Turborepo is joining Vercel to make the web even faster.",tag:"web development",ogImage:"/og-image.png"}},{kind:"MdxPage",name:"saml-sso-now-available",route:"/blog/saml-sso-now-available",frontMatter:{title:"SAML SSO is now available",date:"2021/08/03",description:"SAML Single Sign-on (SSO) is now available to Enterprise customers thanks to our friends over at WorkOS.",tag:"web development",ogImage:"/images/blog/og-saml.png"}},{kind:"MdxPage",name:"turbo-0-4-0",route:"/blog/turbo-0-4-0",frontMatter:{title:"Turborepo 0.4.0",date:"2021/04/02",description:"Turborepo 0.4.0 introduces 10x faster hashing, pruned workspaces with sparse installs, a new pipeline configuration API, and improved cache control.",tag:"web development",ogImage:"/og-image.png"}},{kind:"MdxPage",name:"turbo-1-1-0",route:"/blog/turbo-1-1-0",frontMatter:{title:"Turborepo 1.1",date:"2022/01/31",description:"Turborepo 1.1 introduces automatic migrations, turbo.json configuration, environment variable dependencies, partial Yarn v2 support, and more!",tag:"web development",ogImage:"/images/blog/turbo-1-1-0/twitter-card.png"}},{kind:"MdxPage",name:"turbo-1-2-0",route:"/blog/turbo-1-2-0",frontMatter:{title:"Turborepo 1.2",date:"2022/04/08",description:"Turborepo 1.2 introduces improved task filtering, artifact signing and integrity, human-readable and JSON dry runs, and more!",tag:"web development",ogImage:"/images/blog/turbo-1-2-0/twitter-card.png"}},{kind:"MdxPage",name:"turbo-1-3-0",route:"/blog/turbo-1-3-0",frontMatter:{title:"Turborepo 1.3",date:"2022/06/23",description:"Turborepo 1.3 introduces restricted hash inputs, root script running and caching, new CI/CD Recipes, and more!",tag:"web development",ogImage:"/images/blog/turbo-1-3-0/twitter-card.png"}},{kind:"MdxPage",name:"turbo-1-4-0",route:"/blog/turbo-1-4-0",frontMatter:{title:"Turborepo 1.4",date:"2022/08/09",description:"Turborepo 1.4 has new examples, automatically includes environment variables, and more!",tag:"web development",ogImage:"/images/blog/turbo-1-4-0/twitter-card.png"}},{kind:"MdxPage",name:"turbo-1-5-0",route:"/blog/turbo-1-5-0",frontMatter:{title:"Turborepo 1.5",date:"2022/09/19",description:"Turborepo 1.5 brings the Monorepo Handbook, drops the 'run' command, improves pruning, and much more!",tag:"web development",ogImage:"/images/blog/turbo-1-5-0/twitter-card.png"}},{kind:"MdxPage",name:"turbo-1-6-0",route:"/blog/turbo-1-6-0",frontMatter:{title:"Turborepo 1.6",date:"2022/10/21",description:"Turborepo 1.6 lets you use Turborepo in non-monorepos, prune for npm, and improves cache performance.",tag:"web development",ogImage:"/images/blog/turbo-1-6-0/twitter-card.png"}},{kind:"MdxPage",name:"you-might-not-need-typescript-project-references",route:"/blog/you-might-not-need-typescript-project-references",frontMatter:{title:"You might not need TypeScript project references",date:"2021/04/23",description:'As it turns out, you might not even references or even an interim TypeScript build step with a pattern I am about to show you, which I dub "internal packages."',tag:"web development",ogImage:"/images/blog/og-project-references.png"}}]},{kind:"MdxPage",name:"blog",route:"/blog",frontMatter:{description:"The latest updates and releases from the Turbo team at Vercel.",type:"posts"}},{kind:"MdxPage",name:"confirm",route:"/confirm",frontMatter:{headeronly:!0,searchable:!1}},{kind:"MdxPage",name:"index",route:"/",frontMatter:{description:"Turbo is an incremental bundler and build system optimized for JavaScript and TypeScript, written in Rust."}},{kind:"Folder",name:"pack",route:"/pack",children:[{kind:"Meta",data:{index:{type:"page",display:"hidden",theme:{layout:"raw",sidebar:!1,toc:!0}},docs:{title:"\u6587\u6863",display:"children"}}},{kind:"Folder",name:"docs",route:"/pack/docs",children:[{kind:"Meta",data:{index:"Quickstart","why-turbopack":"Why Turbopack?","core-concepts":"Core Concepts",roadmap:"Roadmap",features:"Features",comparisons:"Comparisons",benchmarks:"Benchmarks","migrating-from-webpack":"Migrating from Webpack"}},{kind:"MdxPage",name:"benchmarks",route:"/pack/docs/benchmarks"},{kind:"Folder",name:"comparisons",route:"/pack/docs/comparisons",children:[{kind:"Meta",data:{"turbopack-vs-vite":"Turbopack vs. Vite","turbopack-vs-webpack":"Turbopack vs. Webpack"}},{kind:"MdxPage",name:"turbopack-vs-vite",route:"/pack/docs/comparisons/turbopack-vs-vite"},{kind:"MdxPage",name:"turbopack-vs-webpack",route:"/pack/docs/comparisons/turbopack-vs-webpack"}]},{kind:"MdxPage",name:"core-concepts",route:"/pack/docs/core-concepts",frontMatter:{title:"Core Concepts",description:"Learn about the innovative architecture that powers Turbopack's speed improvements."}},{kind:"Folder",name:"features",route:"/pack/docs/features",children:[{kind:"Meta",data:{javascript:"JavaScript",typescript:"TypeScript",frameworks:"Frameworks",css:"CSS","dev-server":"Dev Server","static-assets":"Static Assets",imports:"Imports","environment-variables":"Environment Variables"}},{kind:"MdxPage",name:"css",route:"/pack/docs/features/css"},{kind:"MdxPage",name:"dev-server",route:"/pack/docs/features/dev-server"},{kind:"MdxPage",name:"environment-variables",route:"/pack/docs/features/environment-variables"},{kind:"MdxPage",name:"frameworks",route:"/pack/docs/features/frameworks"},{kind:"MdxPage",name:"imports",route:"/pack/docs/features/imports"},{kind:"MdxPage",name:"javascript",route:"/pack/docs/features/javascript"},{kind:"MdxPage",name:"static-assets",route:"/pack/docs/features/static-assets"},{kind:"MdxPage",name:"typescript",route:"/pack/docs/features/typescript"}]},{kind:"MdxPage",name:"features",route:"/pack/docs/features",frontMatter:{title:"Features",description:"Learn about Turbopack's supported features"}},{kind:"MdxPage",name:"index",route:"/pack/docs",frontMatter:{title:"Turbopack Quickstart",description:"Start Building Web Applications with Turbopack"}},{kind:"MdxPage",name:"migrating-from-webpack",route:"/pack/docs/migrating-from-webpack",frontMatter:{title:"Migrate from Webpack to Turbopack",description:"Learn about how to migrate from Webpack to its Rust-powered successor, Turbopack."}},{kind:"MdxPage",name:"roadmap",route:"/pack/docs/roadmap"},{kind:"MdxPage",name:"why-turbopack",route:"/pack/docs/why-turbopack",frontMatter:{title:"Why Turbopack?",description:"Learn why we think Turbopack is the future of bundling for the web."}}]},{kind:"MdxPage",name:"index",route:"/pack",frontMatter:{overrideTitle:"Turbopack - The successor to Webpack",description:"Turbopack is an incremental bundler optimized for JavaScript and TypeScript, written in Rust."}}]},{kind:"MdxPage",name:"privacy",route:"/privacy",frontMatter:{description:"See our privacy policy and how it relates to you.",hidden:!0,headeronly:!0,container:!0,searchable:!1}},{kind:"Folder",name:"repo",route:"/repo",children:[{kind:"Meta",data:{index:{type:"page",display:"hidden",theme:{layout:"raw",sidebar:!1,toc:!0}},docs:{title:"Docs",display:"children"}}},{kind:"Folder",name:"docs",route:"/repo/docs",children:[{kind:"Meta",data:{index:{title:"\u5feb\u901f\u5f00\u59cb"},"getting-started":"\u5165\u95e8","core-concepts":"\u6838\u5fc3\u6982\u5ff5",handbook:"Monorepo \u624b\u518c",ci:"CI Recipes",reference:"API \u53c2\u8003",changelog:{title:"\u4fee\u6539\u8bb0\u5f55",href:"https://github.com/vercel/turbo/releases",newWindow:!0},"upgrading-to-v1":"\u5347\u7ea7\u5230 v1",troubleshooting:"\u6545\u969c\u6392\u9664",acknowledgements:"\u81f4\u8c22",faq:"FAQ"}},{kind:"MdxPage",name:"acknowledgements",route:"/repo/docs/acknowledgements",frontMatter:{title:"Acknowledgements and Prior Art",description:"Thank you to all these developers, build systems, and monorepo tools for their support and assistance."}},{kind:"Folder",name:"ci",route:"/repo/docs/ci",children:[{kind:"Meta",data:{circleci:"CircleCI","github-actions":"GitHub Actions",gitlabci:"GitLab CI",travisci:"Travis CI"}},{kind:"MdxPage",name:"circleci",route:"/repo/docs/ci/circleci",frontMatter:{title:"Using Turborepo with CircleCI",description:"How to use CircleCI with Turborepo to optimize your CI workflow"}},{kind:"MdxPage",name:"github-actions",route:"/repo/docs/ci/github-actions",frontMatter:{title:"Using Turborepo with GitHub Actions",description:"How to use GitHub Actions with Turborepo to optimize your CI workflow"}},{kind:"MdxPage",name:"gitlabci",route:"/repo/docs/ci/gitlabci",frontMatter:{title:"Using Turborepo with GitLab CI",description:"How to use GitLab CI with Turborepo to optimize your CI workflow"}},{kind:"MdxPage",name:"travisci",route:"/repo/docs/ci/travisci",frontMatter:{title:"Using Turborepo with Travis CI",description:"How to use Travis CI with Turborepo to optimize your CI workflow"}}]},{kind:"MdxPage",name:"ci",route:"/repo/docs/ci",frontMatter:{title:"Continuous Integration",description:"Recipes for using Turborepo with GitHub Actions, CircleCI, and other continuous integration providers."}},{kind:"Folder",name:"core-concepts",route:"/repo/docs/core-concepts",children:[{kind:"Meta",data:{caching:"Caching Tasks","remote-caching":"Remote Caching",monorepos:"Monorepos",scopes:{display:"hidden"}}},{kind:"MdxPage",name:"caching",route:"/repo/docs/core-concepts/caching",frontMatter:{title:"Caching",description:"Caching allows Turborepo to skip work that's already been done, for the fastest builds."}},{kind:"Folder",name:"monorepos",route:"/repo/docs/core-concepts/monorepos",children:[{kind:"Meta",data:{"running-tasks":"Running Tasks",filtering:"Filtering Workspaces"}},{kind:"MdxPage",name:"filtering",route:"/repo/docs/core-concepts/monorepos/filtering",frontMatter:{title:"Filtering Workspaces",description:"Only build the workspaces you care about"}},{kind:"MdxPage",name:"running-tasks",route:"/repo/docs/core-concepts/monorepos/running-tasks",frontMatter:{title:"Running Tasks",description:"Turborepo helps you specify task dependencies declaratively."}}]},{kind:"MdxPage",name:"monorepos",route:"/repo/docs/core-concepts/monorepos"},{kind:"MdxPage",name:"remote-caching",route:"/repo/docs/core-concepts/remote-caching",frontMatter:{title:"Remote Caching",description:"Share cache artifacts across machines for even faster builds."}},{kind:"MdxPage",name:"scopes",route:"/repo/docs/core-concepts/scopes",frontMatter:{title:"Scoped tasks",description:"Even faster Turborepo builds with scoped tasks.",searchable:!1}}]},{kind:"MdxPage",name:"faq",route:"/repo/docs/faq",frontMatter:{title:"Frequently Asked Questions",description:"Frequently asked questions about Turborepo."}},{kind:"Folder",name:"getting-started",route:"/repo/docs/getting-started",children:[{kind:"Meta",data:{"add-to-project":"Add to Existing Project","create-new":"Create a New Monorepo","existing-monorepo":"Add to Existing Monorepo"}},{kind:"MdxPage",name:"add-to-project",route:"/repo/docs/getting-started/add-to-project"},{kind:"MdxPage",name:"create-new",route:"/repo/docs/getting-started/create-new",frontMatter:{title:"Getting Started with Turborepo",description:"Create your first monorepo or add Turborepo to an existing project."}},{kind:"MdxPage",name:"existing-monorepo",route:"/repo/docs/getting-started/existing-monorepo",frontMatter:{title:"Getting Started with Turborepo",description:"Create your first monorepo or add Turborepo to an existing project."}}]},{kind:"Folder",name:"handbook",route:"/repo/docs/handbook",children:[{kind:"Meta",data:{"what-is-a-monorepo":"What is a Monorepo?","package-installation":"Package Installation",workspaces:"Workspaces","migrating-to-a-monorepo":"Migrating to a Monorepo",dev:"Development Tasks","building-your-app":"Building Your App","deploying-with-docker":"Deploying with Docker","sharing-code":"Sharing Code",linting:"Linting",testing:"Testing","publishing-packages":"Publishing Packages",troubleshooting:"Troubleshooting"}},{kind:"MdxPage",name:"building-your-app",route:"/repo/docs/handbook/building-your-app"},{kind:"MdxPage",name:"deploying-with-docker",route:"/repo/docs/handbook/deploying-with-docker"},{kind:"MdxPage",name:"dev",route:"/repo/docs/handbook/dev"},{kind:"Folder",name:"linting",route:"/repo/docs/handbook/linting",children:[{kind:"Meta",data:{typescript:"TypeScript",eslint:"ESLint"}},{kind:"MdxPage",name:"eslint",route:"/repo/docs/handbook/linting/eslint"},{kind:"MdxPage",name:"typescript",route:"/repo/docs/handbook/linting/typescript"}]},{kind:"MdxPage",name:"linting",route:"/repo/docs/handbook/linting"},{kind:"MdxPage",name:"migrating-to-a-monorepo",route:"/repo/docs/handbook/migrating-to-a-monorepo"},{kind:"MdxPage",name:"package-installation",route:"/repo/docs/handbook/package-installation"},{kind:"Folder",name:"publishing-packages",route:"/repo/docs/handbook/publishing-packages",children:[{kind:"Meta",data:{bundling:"Bundling","versioning-and-publishing":"Versioning and Publishing"}},{kind:"MdxPage",name:"bundling",route:"/repo/docs/handbook/publishing-packages/bundling"},{kind:"MdxPage",name:"versioning-and-publishing",route:"/repo/docs/handbook/publishing-packages/versioning-and-publishing"}]},{kind:"MdxPage",name:"publishing-packages",route:"/repo/docs/handbook/publishing-packages"},{kind:"Folder",name:"sharing-code",route:"/repo/docs/handbook/sharing-code",children:[{kind:"Meta",data:{"internal-packages":"Internal Packages"}},{kind:"MdxPage",name:"internal-packages",route:"/repo/docs/handbook/sharing-code/internal-packages"}]},{kind:"MdxPage",name:"sharing-code",route:"/repo/docs/handbook/sharing-code"},{kind:"MdxPage",name:"testing",route:"/repo/docs/handbook/testing"},{kind:"MdxPage",name:"troubleshooting",route:"/repo/docs/handbook/troubleshooting"},{kind:"MdxPage",name:"what-is-a-monorepo",route:"/repo/docs/handbook/what-is-a-monorepo"},{kind:"MdxPage",name:"workspaces",route:"/repo/docs/handbook/workspaces"}]},{kind:"MdxPage",name:"handbook",route:"/repo/docs/handbook",frontMatter:{title:"Monorepo Handbook",description:"The missing manual on how to set up and use your monorepo."}},{kind:"MdxPage",name:"index",route:"/repo/docs",frontMatter:{title:"Turborepo \u5feb\u901f\u5f00\u59cb",description:"\u521b\u5efa\u60a8\u7684\u7b2c\u4e00\u4e2a monorepo \u6216\u5c06 Turborepo \u6dfb\u52a0\u5230\u73b0\u6709\u9879\u76ee."}},{kind:"Folder",name:"reference",route:"/repo/docs/reference",children:[{kind:"Meta",data:{configuration:"Configuration Options","command-line-reference":"CLI Usage",codemods:"Codemods"}},{kind:"MdxPage",name:"codemods",route:"/repo/docs/reference/codemods",frontMatter:{title:"Turborepo Codemods",description:"To make upgrading easier, Turborepo includes codemods and migration scripts."}},{kind:"MdxPage",name:"command-line-reference",route:"/repo/docs/reference/command-line-reference",frontMatter:{title:"CLI Reference",description:"Turborepo is a high-performance build system for JavaScript and TypeScript codebases."}},{kind:"MdxPage",name:"configuration",route:"/repo/docs/reference/configuration",frontMatter:{title:"Configuration Options - turbo.json",description:"Learn how to configure Turborepo through `turbo.json`."}}]},{kind:"MdxPage",name:"troubleshooting",route:"/repo/docs/troubleshooting",frontMatter:{title:"Troubleshooting",description:"This guide aims to help you debug issues with your Turborepo builds and configuration."}},{kind:"MdxPage",name:"upgrading-to-v1",route:"/repo/docs/upgrading-to-v1",frontMatter:{title:"Upgrading to v1",description:"Learn how to upgrade to Turborepo v1, now open-source and part of Vercel."}}]},{kind:"MdxPage",name:"index",route:"/repo",frontMatter:{description:"Turborepo is a high-performance build system for JavaScript and TypeScript codebases."}}]},{kind:"MdxPage",name:"showcase",route:"/showcase",frontMatter:{headeronly:!0,searchable:!1,description:"Turborepo by Vercel is the one of the fastest growing build systems in the frontend ecosystem. It's trusted by thousands of developers in production including teams at Vercel, AWS, Netflix, Microsoft, Disney, and more."}},{kind:"MdxPage",name:"terms",route:"/terms",frontMatter:{description:"See our terms of our service and how they relate to you.",hidden:!0,headeronly:!0,container:!0,searchable:!1}}],headings:[{type:"heading",depth:1,children:[{type:"text",value:"Upgrading to Turborepo v1.x",position:{start:{line:2,column:3,offset:3},end:{line:2,column:30,offset:30}}}],position:{start:{line:2,column:1,offset:1},end:{line:2,column:30,offset:30}},value:"Upgrading to Turborepo v1.x"},{type:"heading",depth:2,children:[{type:"text",value:"1. Cleaning up",position:{start:{line:14,column:4,offset:1064},end:{line:14,column:18,offset:1078}}}],position:{start:{line:14,column:1,offset:1061},end:{line:14,column:18,offset:1078}},value:"1. Cleaning up"},{type:"heading",depth:2,children:[{type:"text",value:"2. Install the latest release of ",position:{start:{line:28,column:4,offset:1294},end:{line:28,column:37,offset:1327}}},{type:"inlineCode",value:"turbo",position:{start:{line:28,column:37,offset:1327},end:{line:28,column:44,offset:1334}}}],position:{start:{line:28,column:1,offset:1291},end:{line:28,column:44,offset:1334}},value:"2. Install the latest release of turbo"},{type:"heading",depth:2,children:[{type:"text",value:"3. Setup Remote Caching",position:{start:{line:36,column:4,offset:1454},end:{line:36,column:27,offset:1477}}}],position:{start:{line:36,column:1,offset:1451},end:{line:36,column:27,offset:1477}},value:"3. Setup Remote Caching"},{type:"heading",depth:2,children:[{type:"text",value:"4. Local Development",position:{start:{line:44,column:4,offset:2400},end:{line:44,column:24,offset:2420}}}],position:{start:{line:44,column:1,offset:2397},end:{line:44,column:24,offset:2420}},value:"4. Local Development"},{type:"heading",depth:3,children:[{type:"text",value:"On Vercel",position:{start:{line:60,column:5,offset:2763},end:{line:60,column:14,offset:2772}}}],position:{start:{line:60,column:1,offset:2759},end:{line:60,column:14,offset:2772}},value:"On Vercel"},{type:"heading",depth:3,children:[{type:"text",value:"On other CI/CD",position:{start:{line:66,column:5,offset:3120},end:{line:66,column:19,offset:3134}}}],position:{start:{line:66,column:1,offset:3116},end:{line:66,column:19,offset:3134}},value:"On other CI/CD"},{type:"heading",depth:3,children:[{type:"text",value:"Getting Help",position:{start:{line:72,column:5,offset:3637},end:{line:72,column:17,offset:3649}}}],position:{start:{line:72,column:1,offset:3633},end:{line:72,column:17,offset:3649}},value:"Getting Help"}],unstable_flexsearch:!0};globalThis.__nextra_internal__={pageMap:p.pageMap,route:p.route};function u(e){var o=Object.assign({h1:"h1",p:"p",strong:"strong",code:"code",a:"a",hr:"hr",h2:"h2",div:"div",pre:"pre",span:"span",h3:"h3",ul:"ul",li:"li"},(0,c.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.h1,{children:"Upgrading to Turborepo v1.x"}),"\n",(0,a.jsxs)(o.p,{children:["Turborepo has been acquired by Vercel! With this announcement, ",(0,a.jsxs)(o.strong,{children:["Vercel is open sourcing the ",(0,a.jsx)(o.code,{children:"turbo"})," CLI and offering Remote Caching for free on all accounts during the transition period."]})]}),"\n",(0,a.jsxs)(o.p,{children:["Existing Turborepo customers should upgrade their ",(0,a.jsx)(o.code,{children:"turbo"})," CLI to v1.x as soon as possible and migrate to Vercel (instructions below). Earlier versions of ",(0,a.jsx)(o.code,{children:"turbo"})," CLI prior to 1.x will no longer be maintained going forward. New account creation on beta.turborepo.com has been disabled. The beta.turborepo.com dashboard and remote caching service will be shutdown on January 15th, 2022 and older versions will not be installable."]}),"\n",(0,a.jsxs)(o.p,{children:[(0,a.jsx)(o.strong,{children:"All existing Remote Cache artifacts will also be deleted at this time"}),"."]}),"\n",(0,a.jsxs)(o.p,{children:["Below is a step-by-step migration guide for existing Turborepo users. If you get stuck, please reach out in the community ",(0,a.jsx)(o.a,{href:"https://turbo.build/discord",children:"Discord"})," or file an issue on ",(0,a.jsx)(o.a,{href:"https://github.com/vercel/turbo",children:"GitHub"}),". Thank you again for your continued support as we begin this awesome new chapter of Turborepo together."]}),"\n",(0,a.jsx)(o.hr,{}),"\n",(0,a.jsx)(o.h2,{id:"1-cleaning-up",children:"1. Cleaning up"}),"\n",(0,a.jsxs)(o.p,{children:["For good hygiene, ensure you logout of ",(0,a.jsx)(o.code,{children:"turbo"})," to remove old credentials:"]}),"\n",(0,a.jsx)(o.div,{"data-rehype-pretty-code-fragment":"",children:(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{"data-language":"sh","data-theme":"default",children:(0,a.jsxs)(o.span,{className:"line",children:[(0,a.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"yarn turbo "}),(0,a.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"logout"})]})})})}),"\n",(0,a.jsxs)(o.p,{children:["If it exists, also delete the ",(0,a.jsx)(o.code,{children:".turbo"})," directory from the root of your monorepo:"]}),"\n",(0,a.jsx)(o.div,{"data-rehype-pretty-code-fragment":"",children:(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{"data-language":"sh","data-theme":"default",children:(0,a.jsx)(o.span,{className:"line",children:(0,a.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"rm -rf .turbo"})})})})}),"\n",(0,a.jsxs)(o.h2,{id:"2-install-the-latest-release-of-turbo",children:["2. Install the latest release of ",(0,a.jsx)(o.code,{children:"turbo"})]}),"\n",(0,a.jsxs)(o.p,{children:["Install the latest version version of ",(0,a.jsx)(o.code,{children:"turbo"}),":"]}),"\n",(0,a.jsx)(o.div,{"data-rehype-pretty-code-fragment":"",children:(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{"data-language":"sh","data-theme":"default",children:(0,a.jsx)(o.span,{className:"line",children:(0,a.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"yarn add turbo --save-dev --ignore-workspace-root-check"})})})})}),"\n",(0,a.jsx)(o.h2,{id:"3-setup-remote-caching",children:"3. Setup Remote Caching"}),"\n",(0,a.jsxs)(o.p,{children:["As mentioned, Turborepo now provides zero-config Remote Caching through ",(0,a.jsx)(o.a,{href:"https://vercel.com?utm_source=turbo-pack.cn&utm_medium=referral&utm_campaign=docs-link",children:"Vercel"}),". Remote Caching is free for all Vercel plans during this transition period. Each Vercel account has a shared Remote Cache. This cache is shared across all environments (Development, Preview, and Production)."]}),"\n",(0,a.jsxs)(o.p,{children:[(0,a.jsx)(o.strong,{children:"Important"}),": turborepo.com allowed multiple caches (i.e. projects) per team (denoted through ",(0,a.jsx)(o.code,{children:"--project"})," flag). With v1.x caching on Vercel, each Vercel account (user or team) has a single shared Remote Cache. If you were actively using multiple turborepo.com projects for your team, please let us know in ",(0,a.jsx)(o.a,{href:"https://turbo.build/discord",children:"Discord"}),"."]}),"\n",(0,a.jsx)(o.p,{children:"Please note that we are not migrating cache artifacts to Vercel. We apologize for the slower builds during your migration as you rehydrate your remote cache on Vercel or custom cache infra."}),"\n",(0,a.jsx)(o.h2,{id:"4-local-development",children:"4. Local Development"}),"\n",(0,a.jsx)(o.p,{children:"If you were using Remote Caching for local development, upgrading will take a minute or two. To get started, login to the Vercel CLI:"}),"\n",(0,a.jsx)(o.div,{"data-rehype-pretty-code-fragment":"",children:(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{"data-language":"sh","data-theme":"default",children:(0,a.jsx)(o.span,{className:"line",children:(0,a.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"npx turbo login"})})})})}),"\n",(0,a.jsx)(o.p,{children:"Now we can set up Remote Caching through Vercel by running:"}),"\n",(0,a.jsx)(o.div,{"data-rehype-pretty-code-fragment":"",children:(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{"data-language":"sh","data-theme":"default",children:(0,a.jsx)(o.span,{className:"line",children:(0,a.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"npx turbo link"})})})})}),"\n",(0,a.jsx)(o.p,{children:"Follow the prompts and select the Vercel account (user or team) to wish to connect to."}),"\n",(0,a.jsx)(o.h3,{id:"on-vercel",children:"On Vercel"}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsxs)(o.li,{children:["\n",(0,a.jsxs)(o.p,{children:["If you already used Turborepo and Vercel together, remove ",(0,a.jsx)(o.code,{children:"TURBO_TOKEN"}),", ",(0,a.jsx)(o.code,{children:"TURBO_TEAM"}),", and ",(0,a.jsx)(o.code,{children:"TURBO_PROJECT"})," environment variables from all projects. These are now automatically set on your behalf by Vercel."]}),"\n"]}),"\n",(0,a.jsxs)(o.li,{children:["\n",(0,a.jsxs)(o.p,{children:["Remove the usage of ",(0,a.jsx)(o.code,{children:"--team"}),", ",(0,a.jsx)(o.code,{children:"--token"}),", and ",(0,a.jsx)(o.code,{children:"--project"})," CLI flags in your Vercel project settings and/or ",(0,a.jsx)(o.code,{children:"package.json"})," scripts."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"on-other-cicd",children:"On other CI/CD"}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsxs)(o.li,{children:["Replace your turborepo.com personal access token with a new ",(0,a.jsx)(o.a,{href:"https://vercel.com/account/tokens",children:"Vercel personal access token"})," and update ",(0,a.jsx)(o.code,{children:"TURBO_TOKEN"})," environment variable or equivalent usage of the ",(0,a.jsx)(o.code,{children:"--token"})," CLI flag."]}),"\n",(0,a.jsxs)(o.li,{children:["Remove the ",(0,a.jsx)(o.code,{children:"TURBO_PROJECT"})," environment variable and remove all usage of the ",(0,a.jsx)(o.code,{children:"--project"})," CLI flag. This has been deprecated."]}),"\n",(0,a.jsxs)(o.li,{children:["Update the value of the ",(0,a.jsx)(o.code,{children:"TURBO_TEAM"})," environment variable and ",(0,a.jsx)(o.code,{children:"--team"})," CLI flag to be your Vercel account slug (i.e. ",(0,a.jsx)(o.code,{children:"https://vercel.com/<slug>"}),")."]}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"getting-help",children:"Getting Help"}),"\n",(0,a.jsxs)(o.p,{children:["If you are having difficulty upgrading please file an issue on ",(0,a.jsx)(o.a,{href:"https://github.com/vercel/turbo",children:"GitHub"}),". If you are having difficulty with your remote caching on Vercel, please reach out in ",(0,a.jsx)(o.a,{href:"https://turbo.build/discord",children:"Discord"}),"."]})]})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object.assign({},(0,c.ah)(),e.components),t=o.wrapper;return t?(0,a.jsx)(t,(0,i.Z)((0,n.Z)({},e),{children:(0,a.jsx)(u,(0,n.Z)({},e))})):u(e)}p.title="Upgrading to v1";(r=globalThis).__nextra_pageContext__||(r.__nextra_pageContext__=Object.create(null)),globalThis.__nextra_pageContext__["/repo/docs/upgrading-to-v1"]={Content:function(e){return(0,a.jsx)(s.mK.Provider,{value:e,children:(0,a.jsx)(g,{})})},pageOpts:p,themeConfig:d.Z}}},function(e){e.O(0,[8002,8583,9774,2888,179],(function(){return o=9377,e(e.s=o);var o}));var o=e.O();_N_E=o}]);